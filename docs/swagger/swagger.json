{"openapi":"3.0.0","paths":{"/user":{"post":{"description":"Create a new user","operationId":"create-user","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"examples":{"example-0":{"summary":"Success","value":{"id":"4893cb7b-6f66-465e-8d82-f59b4c4a39b4","name":"John Doe","email":"john.doe@email.com","createdAt":"2023-10-01T00:00:00.000Z","updatedAt":"2023-10-01T00:00:00.000Z"}}}}}},"400":{"description":"Error creating user","content":{"application/json":{"examples":{"example-0":{"summary":"Error creating user","value":{"statusCode":400,"timestamp":"2025-04-22T00:16:13.545Z","path":"/api/user","method":"POST","message":"Error creating user"}}}}}},"409":{"description":"Conflict","content":{"application/json":{"examples":{"example-0":{"summary":"User exists","value":{"statusCode":409,"timestamp":"2025-04-22T00:16:13.544Z","path":"/api/user","method":"POST","message":"User already exists"}},"example-1":{"summary":"Passwords do not match","value":{"statusCode":409,"timestamp":"2025-04-22T00:16:13.545Z","path":"/api/user","method":"POST","message":"Passwords do not match"}}}}}}},"security":[{"bearer":[]}],"summary":"Create a new user","tags":["User"]},"get":{"description":"Get all users","operationId":"get-all-users","parameters":[{"name":"name","required":false,"in":"query","description":"Name of the user","schema":{"example":"John Doe","type":"string"}},{"name":"email","required":false,"in":"query","description":"Email of the user","schema":{"example":"john.dow@email.com","type":"string"}}],"responses":{"201":{"description":"Get all users successfully","content":{"application/json":{"examples":{"example-0":{"summary":"Success","value":{"data":[{"id":"70cfce74-52c0-4c04-bb07-21e23687836e","name":"Luka Martins","email":"luka@email.com","createdAt":"2025-04-18T17:10:52.758Z","updatedAt":"2025-04-18T17:10:52.758Z"}],"total":1,"page":1,"limit":10,"totalPages":1}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"examples":{"example-0":{"summary":"Unauthorized","value":{"statusCode":401,"timestamp":"2025-04-22T00:16:13.545Z","path":"/api/user","method":"GET","message":"Unauthorized"}}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"examples":{"example-0":{"summary":"Internal Server Error","value":{"statusCode":500,"timestamp":"2025-04-22T00:16:13.545Z","path":"/api/user","method":"GET","message":"Internal Server Error"}}}}}}},"security":[{"bearer":[]}],"summary":"Get all users","tags":["User"]}},"/user/{id}":{"patch":{"description":"Update a user","operationId":"update-user","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"201":{"description":"User updated successfully","content":{"application/json":{"examples":{"example-0":{"summary":"Success","value":{}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"examples":{"example-0":{"summary":"Unauthorized","value":{"statusCode":401,"timestamp":"2025-04-22T00:16:13.546Z","path":"/api/user/:id","method":"PATCH","message":"Unauthorized"}},"example-1":{"summary":"Not authorized","value":{"statusCode":401,"timestamp":"2025-04-22T00:16:13.546Z","path":"/api/user/:id","method":"PATCH","message":"You are not authorized to update this user"}}}}}},"404":{"description":"NotFoundException","content":{"application/json":{"examples":{"example-0":{"summary":"NotFoundException","value":{"statusCode":404,"timestamp":"2025-04-22T00:16:13.546Z","path":"/api/user/:id","method":"PATCH","message":"User not found"}}}}}}},"security":[{"bearer":[]}],"summary":"Update a user","tags":["User"]},"delete":{"description":"Delete a user","operationId":"delete-user","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":"User deleted successfully","content":{"application/json":{"examples":{"example-0":{"summary":"Success","value":{}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"examples":{"example-0":{"summary":"Unauthorized","value":{"statusCode":401,"timestamp":"2025-04-22T00:16:13.547Z","path":"/api/user/:id","method":"DELETE","message":"Unauthorized"}},"example-1":{"summary":"Not authorized","value":{"statusCode":401,"timestamp":"2025-04-22T00:16:13.547Z","path":"/api/user/:id","method":"DELETE","message":"You are not authorized to update this user"}}}}}},"404":{"description":"NotFoundException","content":{"application/json":{"examples":{"example-0":{"summary":"NotFoundException","value":{"statusCode":404,"timestamp":"2025-04-22T00:16:13.547Z","path":"/api/user/:id","method":"DELETE","message":"User not found"}}}}}}},"security":[{"bearer":[]}],"summary":"Delete a user","tags":["User"]}},"/session":{"post":{"description":"Create a new session","operationId":"create-session","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionDto"}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"examples":{"example-0":{"value":{"id":"4893cb7b-6f66-465e-8d82-f59b4c4a39b4","name":"John Doe","email":"john.doe@email.com","createdAt":"2023-10-01T00:00:00.000Z","updatedAt":"2023-10-01T00:00:00.000Z"}}}}}},"400":{"description":"Error creating user","content":{"application/json":{"examples":{"example-0":{"value":{"statusCode":400,"timestamp":"2025-04-22T00:16:13.545Z","path":"/api/user","method":"POST","message":"Error creating user"}}}}}},"409":{"description":"Conflict","content":{"application/json":{"examples":{"example-0":{"value":{"statusCode":409,"timestamp":"2025-04-22T00:16:13.544Z","path":"/api/user","method":"POST","message":"User already exists"}},"example-1":{"value":{"statusCode":409,"timestamp":"2025-04-22T00:16:13.545Z","path":"/api/user","method":"POST","message":"Passwords do not match"}}}}}}},"security":[{"bearer":[]}],"summary":"Create a new session","tags":["Session"]}},"/session/me":{"get":{"description":"Get the current user","operationId":"get-current-user","parameters":[],"responses":{"201":{"description":"User created successfully","content":{"application/json":{"examples":{"example-0":{"value":{"id":"4893cb7b-6f66-465e-8d82-f59b4c4a39b4","name":"John Doe","email":"john.doe@email.com","createdAt":"2023-10-01T00:00:00.000Z","updatedAt":"2023-10-01T00:00:00.000Z"}}}}}},"400":{"description":"Error creating user","content":{"application/json":{"examples":{"example-0":{"value":{"statusCode":400,"timestamp":"2025-04-22T00:16:13.545Z","path":"/api/user","method":"POST","message":"Error creating user"}}}}}},"409":{"description":"Conflict","content":{"application/json":{"examples":{"example-0":{"value":{"statusCode":409,"timestamp":"2025-04-22T00:16:13.544Z","path":"/api/user","method":"POST","message":"User already exists"}},"example-1":{"value":{"statusCode":409,"timestamp":"2025-04-22T00:16:13.545Z","path":"/api/user","method":"POST","message":"Passwords do not match"}}}}}}},"security":[{"bearer":[]}],"summary":"Get the current user","tags":["Session"]}},"/post":{"post":{"description":"Create a new post","operationId":"create-post","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostDto"}}}},"responses":{"201":{"description":"Create post successfully","content":{"application/json":{"examples":{"example-0":{"summary":"Success","value":{}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"examples":{"example-0":{"summary":"Unauthorized","value":{"statusCode":401,"timestamp":"2025-04-22T00:16:13.555Z","path":"/api/user/:id","method":"POST","message":"Unauthorized"}}}}}},"404":{"description":"NotFoundException","content":{"application/json":{"examples":{"example-0":{"summary":"NotFoundException","value":{"statusCode":404,"timestamp":"2025-04-22T00:16:13.555Z","path":"/api/post","method":"POST","message":"User not found"}}}}}}},"security":[{"bearer":[]}],"summary":"Create a new post","tags":["Post"]},"get":{"description":"Get all posts","operationId":"get-all-posts","parameters":[],"responses":{"201":{"description":"Get all post successfully","content":{"application/json":{"examples":{"example-0":{"summary":"Success","value":{"data":[{"id":"70cfce74-52c0-4c04-bb07-21e23687836e","name":"Luka Martins","email":"luka@email.com","createdAt":"2025-04-18T17:10:52.758Z","updatedAt":"2025-04-18T17:10:52.758Z"}],"total":1,"page":1,"limit":10,"totalPages":1}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"examples":{"example-0":{"summary":"Unauthorized","value":{"statusCode":401,"timestamp":"2025-04-22T00:16:13.555Z","path":"/api/post","method":"GET","message":"Unauthorized"}}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"examples":{"example-0":{"summary":"Internal Server Error","value":{"statusCode":500,"timestamp":"2025-04-22T00:16:13.555Z","path":"/api/post","method":"GET","message":"Internal Server Error"}}}}}}},"security":[{"bearer":[]}],"summary":"Get all posts","tags":["Post"]}},"/post/like":{"post":{"description":"Toggle like post","operationId":"toggle-like-post","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToggleLikePostDto"}}}},"responses":{"201":{"description":"Toggle like post successfully","content":{"application/json":{"examples":{"example-0":{"summary":"Success","value":{}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"examples":{"example-0":{"summary":"Unauthorized","value":{"statusCode":401,"timestamp":"2025-04-22T00:16:13.556Z","path":"/api/post/:id/like","method":"POST","message":"Unauthorized"}}}}}},"404":{"description":"NotFoundException","content":{"application/json":{"examples":{"example-0":{"summary":"Post not found","value":{"statusCode":404,"timestamp":"2025-04-22T00:16:13.556Z","path":"/api/post/:id/like","method":"POST","message":"Post not found"}},"example-1":{"summary":"User not found","value":{"statusCode":404,"timestamp":"2025-04-22T00:16:13.556Z","path":"/api/post/:id/like","method":"POST","message":"User not found"}}}}}}},"security":[{"bearer":[]}],"summary":"Toggle like post","tags":["Post"]}}},"info":{"title":"Feed API","description":"The API description","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"access-token":{"scheme":"bearer","bearerFormat":"JWT","description":"Default JWT Authorization","type":"http","in":"header"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"name":{"type":"string","description":"Name of the user","example":"John Doe"},"email":{"type":"string","description":"Email of the user","example":"john.dow@email.com"},"password":{"type":"string","description":"Password of the user","example":"password123"},"confirmPassword":{"type":"string","description":"Confirm password of the user","example":"password123"}},"required":["name","email","password","confirmPassword"]},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string","description":"Name of the user","example":"John Doe"},"email":{"type":"string","description":"Email of the user","example":"john.dow@email.com"}}},"SessionDto":{"type":"object","properties":{"email":{"type":"string","description":"Email of the user","example":"john.dow@email.com"},"password":{"type":"string","description":"Password of the user","example":"password123"}},"required":["email","password"]},"CreatePostDto":{"type":"object","properties":{"content":{"type":"string","description":"Content of the post","example":"This is a post content"}},"required":["content"]},"ToggleLikePostDto":{"type":"object","properties":{"postId":{"type":"string","description":"ID of the post","example":"123e4567-e89b-12d3-a456-426614174000"}},"required":["postId"]}}}}